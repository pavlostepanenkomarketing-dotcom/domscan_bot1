import requests
from bs4 import BeautifulSoup

def evaluate_domain(domain: str) -> str:
    """
    Получает цену домена с сайта adresso.de.
    Возвращает строку с оценкой или сообщение об ошибке.
    """

    try:
        url = f"https://adresso.de/domain-bewertung/?domain={domain}"
        response = requests.get(url, timeout=10)

        if response.status_code != 200:
            return "Ошибка доступа"

        soup = BeautifulSoup(response.text, "html.parser")

        # Ищем цену на странице
        price_tag = soup.find("span", {"class": "domprice"})

        if not price_tag:
            return "Не удалось найти цену"

        price = price_tag.get_text(strip=True)
        return price

    except Exception as e:
        return f"Ошибка: {e}"
